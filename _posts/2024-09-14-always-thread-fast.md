---
title: "쓰레드를 사용하면 무조건 성능이 좋아질까?"
date: 2024-09-14
comments: true
categories:
  - posts
tags:
  - thread
  - coding
---

<br>

### 쓰레드를 사용하면 무조건 성능이 좋아질까?

> 이 주제에 대해 살펴보기 전에 먼저 쓰레드에 대한 기본 개념을 이해해보겠습니다.


<br>

### 쓰레드(Thread)란?
-쓰레드는 프로세스가 할당받은 자원을 이용하여 작업을 수행하는 실행의 단위입니다.
- 프로세스 내에서 여러 쓰레드는 독립적으로 실행되지만, 동일한 프로세스 내의 주소 공간과 자원을 공유합니다.


<br>

---

### 쓰레드가 많으면 성능이 항상 향상될까?

정답은 **‘그렇지 않다’**입니다. 쓰레드를 많이 사용한다고 해서 무조건 성능이 향상되는 것은 아니며, 여러 요인에 따라 그 효과는 달라집니다.



예를 들어, I/O 바운드 작업에서는 쓰레드를 활용하면 성능이 개선될 수 있습니다. I/O 작업이 진행되는 동안 CPU가 대기하지 않고 다른 작업을 처리할 수 있기 때문입니다.

하지만 CPU 바운드 작업에서는 쓰레드를 많이 사용해도 성능 향상이 크지 않을 수 있습니다. CPU가 이미 작업 처리에 집중하고 있는 상황에서는 쓰레드가 추가로 개입해도 오히려 부하가 증가할 수 있기 때문입니다.


<br>

#### CPU 바운드와 I/O 바운드란?

- **CPU 바운드** : CPU의 성능에 의해 작업 처리 속도가 결정되는 작업을 의미합니다. 복잡한 계산이 필요한 작업이 이에 해당합니다.

- **I/O 바운드** :입출력 작업의 속도에 따라 작업 성능이 좌우되는 경우를 말합니다. 파일 읽기/쓰기, 네트워크 통신 등이 여기에 속합니다.

<br>

또한, 시스템의 CPU 코어 수도 중요한 요인입니다. 쓰레드 수가 CPU 코어 수를 초과하면, 쓰레드 간의 컨텍스트 스위칭이 발생하여 오히려 성능이 저하될 수 있습니다. 이때 CPU는 여러 작업을 번갈아가며 처리해야 하므로 효율이 떨어집니다.

추가로, 쓰레드가 공유 리소스에 동시에 접근하면 레이스 컨디션이나 데드락 같은 문제가 발생할 수 있습니다. 이를 방지하기 위해서는 적절한 동기화 작업이 필요합니다.

뿐만 아니라, 쓰레드가 너무 많으면 메모리 사용량이 증가하고 CPU 캐시 효율성이 떨어져 성능이 저하될 수 있습니다. 따라서 최적의 성능을 위해서는 적절한 쓰레드 수를 설정하는 것이 중요합니다.


<br>

---

### 결론

쓰레드는 특정 상황에서 성능을 향상시킬 수 있지만, 항상 그렇지는 않습니다. 작업의 특성과 시스템 자원을 고려한 신중한 분석과 테스트를 통해 적절한 쓰레드 수를 결정해야 합니다. 무조건 쓰레드를 많이 사용하는 것은 오히려 성능을 악화시킬 수 있으니 주의가 필요합니다.



